@{
  Layout = "_Layout";
}
@using Factory.Models;
@model List<Factory.Models.Machine>;

<h2>Registered Machines</h2>
<hr />

@if (@Model.Count == 0)
{
  <div class="table-empty">
    <h4>No machines have been registered yet.</h4>
    <p>Click below to add a new machine.</p>
  </div>
}
else
{
  <table id="machine-table" class="table table-striped">
    <thead class="thead-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Model</th>
        <th scope="col">Operational Status</th>
      </tr>
    </thead>
    <tbody>
    @for (int i = 0; i < Model.Count(); i++)
    {
      <tr>
        <td scope="row">@(i+1)</td>
        <td>@Html.ActionLink($"{@Model.ElementAt(i).Model}", "Details", "Clients", new {id = @Model.ElementAt(i).MachineId})</td>
        <td>@Model.ElementAt(i).OperationalStatus</td>
        @* Add a row for a button to add engineer *@
      </tr>
    }
    </tbody> 
  </table>
}
<hr />
@Html.ActionLink("Add Machine", "Create", new {}, new { @class = "btn btn-outline-primary" })
@Html.ActionLink("Home", "Index", "Home", new {}, new { @class = "btn btn-outline-primary" })